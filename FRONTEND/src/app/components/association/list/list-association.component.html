<app-header></app-header>

<main class="page-container flex-grow-1">

  <!-- Bandeau titre -->
  <div class="d-flex justify-content-end mb-4">
    <h2 class="page-title">Nos associations</h2>
  </div>

  <!-- Loading & erreur -->
  <ng-container *ngIf="loading; else loaded">
    <div class="text-center py-5">
      <div class="spinner-border" role="status">
        <span class="visually-hidden">Chargementâ€¦</span>
      </div>
    </div>
  </ng-container>

  <ng-template #loaded>
    <div *ngIf="error" class="alert alert-danger mb-4">{{ error }}</div>

    <!-- Grille -->
    <div class="row row-cols-2 row-cols-md-3 row-cols-lg-5 g-4">
      <div class="col" *ngFor="let a of associations">
        <div class="card h-100 shadow-sm card-hover">

          <img class="thumb" [src]="a.url_image_association_1"
               [alt]="a.nom_association">

          <div class="card-body d-flex flex-column">
            <h5 class="name">{{ a.nom_association }}</h5>

            <p class="flex-grow-1">{{ a.description_association_1 }}</p>

            <p class="country mb-2">{{ a.pays_association }}</p>

            <a class="btn-hero mt-auto"
               [routerLink]="['/association', a.id_association]">
              Voir le profil
            </a>
          </div>

        </div>
      </div>
    </div>
  </ng-template>

</main>

<app-footer></app-footer>
